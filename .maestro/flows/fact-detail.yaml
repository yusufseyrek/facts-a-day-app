# Fact Detail Screen Screenshot Flow
# Assumes we're on home screen from previous flow

appId: dev.seyrek.factsaday

---
# Tap on the first fact card
- tapOn:
    id: "fact-card-.*"
    index: 0

# Wait for fact detail modal
- extendedWaitUntil:
    visible:
      id: "fact-modal-close-button"
    timeout: 5000

# Take screenshot
- takeScreenshot: ${OUTPUT_DIR}/02_fact_detail

# Close modal - iOS uses X button, Android uses back key
- runFlow:
    when:
      platform: iOS
    commands:
      - tapOn:
          id: "fact-modal-close-button"
      - waitForAnimationToEnd:
          timeout: 1000

- runFlow:
    when:
      platform: Android
    commands:
      - pressKey: back
      - waitForAnimationToEnd:
          timeout: 1000
