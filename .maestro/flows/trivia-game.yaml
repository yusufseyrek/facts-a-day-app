# Trivia Game Screen Screenshot Flow
# Assumes we're on trivia hub from previous flow

appId: dev.seyrek.factsaday

---
# Wait for screen to stabilize
- waitForAnimationToEnd:
    timeout: 1000

# Tap on Mixed Trivia card (or Daily if mixed unavailable)
- tapOn:
    id: "trivia-card-mixed"
    optional: true
    retryTapIfNoChange: true

- tapOn:
    id: "trivia-card-daily"
    optional: true
    retryTapIfNoChange: true

# Wait for intro modal
- extendedWaitUntil:
    visible:
      id: "trivia-start-button"
    timeout: 8000

# Tap Start button
- tapOn:
    id: "trivia-start-button"
    retryTapIfNoChange: true

# Wait for game to load (question animations)
- waitForAnimationToEnd:
    timeout: 3000

# Take screenshot
- takeScreenshot: ${OUTPUT_DIR}/06_trivia_game

# Exit the game
- tapOn:
    id: "trivia-game-exit-button"
    retryTapIfNoChange: true

# Wait for exit modal
- extendedWaitUntil:
    visible:
      id: "trivia-exit-confirm"
    timeout: 5000

# Confirm exit
- tapOn:
    id: "trivia-exit-confirm"
    retryTapIfNoChange: true

# Wait to return to trivia hub
- waitForAnimationToEnd:
    timeout: 2000
