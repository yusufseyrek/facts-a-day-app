# Trivia Game Screen Screenshot Flow
# Captures an active trivia game in progress

appId: dev.seyrek.factsaday

---
# Wait for UI to stabilize first
- waitForAnimationToEnd:
    timeout: 2000

# Navigate to trivia tab first
- tapOn:
    id: "tab-trivia"

# Wait for trivia hub to load
- waitForAnimationToEnd:
    timeout: 3000

# Tap on Mixed Trivia card using testID
- tapOn:
    id: "trivia-card-mixed"
    optional: true

# If mixed not available, try Daily Trivia using testID
- tapOn:
    id: "trivia-card-daily"
    optional: true

# Wait for intro modal
- waitForAnimationToEnd:
    timeout: 3000

# Tap Start button using testID
- tapOn:
    id: "trivia-start-button"
    optional: true

# Wait for game to load
- waitForAnimationToEnd:
    timeout: 3000

# Take screenshot of the game in progress
- takeScreenshot: ${OUTPUT_DIR}/05_trivia_game

# Wait before exit to stabilize
- waitForAnimationToEnd:
    timeout: 1000

# Exit the game by tapping the X button
- tapOn:
    id: "trivia-game-exit-button"

# Wait for custom exit modal to appear
- waitForAnimationToEnd:
    timeout: 2000

# Tap Exit button on the custom modal using testID
- tapOn:
    id: "trivia-exit-confirm"

# Wait for navigation back to trivia hub
- waitForAnimationToEnd:
    timeout: 2000

# Ensure we're on trivia tab
- tapOn:
    id: "tab-trivia"
    optional: true

# Final stabilization
- waitForAnimationToEnd:
    timeout: 1000
