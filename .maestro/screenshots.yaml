# Main Screenshot Orchestration Flow
# Runs all screen flows in sequence to capture promotional screenshots
#
# IMPORTANT: Use the screenshots.sh script for proper folder structure!
#   ./scripts/screenshots.sh --ios --locale en
#
# The OUTPUT_DIR env var MUST be passed via -e flag

appId: dev.seyrek.factsaday

---
# Launch the app
- launchApp:
    clearState: false
    clearKeychain: false

# Wait for app to fully load (tab bar visible)
- extendedWaitUntil:
    visible:
      id: "tab-home"
    timeout: 15000

# Initial load wait
- waitForAnimationToEnd:
    timeout: 2000

# Run all screen flows in sequence
# Flows assume state from previous flow for efficiency

# 1. Home Screen (already on home after launch)
- runFlow: flows/home.yaml

# 2. Fact Detail (opens modal from home)
- runFlow: flows/fact-detail.yaml

# 3. Discover Screen (navigates to discover tab)
- runFlow: flows/discover.yaml

# 4. Category Browse (taps category, already on discover)
- runFlow: flows/category-browse.yaml

# 5. Trivia Hub (navigates to trivia tab)
- runFlow: flows/trivia.yaml

# 6. Trivia Game (starts game, already on trivia hub)
- runFlow: flows/trivia-game.yaml

# 7. Trivia Performance (opens from trivia hub)
- runFlow: flows/trivia-performance.yaml

# 8. Trivia Results (taps session, already on performance)
- runFlow: flows/trivia-results.yaml

# 9. Favorites Screen (navigates to favorites tab)
- runFlow: flows/favorites.yaml

# Return to home
- tapOn:
    id: "tab-home"
